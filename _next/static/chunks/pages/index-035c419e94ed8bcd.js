(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(683)}])},683:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return x},default:function(){return Y}});var n=r(5893),a=r(1664),s=r(381),c=r.n(s),i=r(6005),o=r(7294);function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function d(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}var h=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(u,t);var e,r,s,o=p(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,t)).state={calendarActiveDate:null},e}return e=u,(r=[{key:"onClickBack",value:function(t){t.preventDefault(),console.log("onClickBack",t);var e=this.state.calendarActiveDate?this.state.calendarActiveDate:this.props.startDate,r=c()(e,["YYYY-MM-DD"]).subtract(1,"month");this.setState({calendarActiveDate:r.format("YYYY-MM-DD")})}},{key:"onClickNext",value:function(t){t.preventDefault(),console.log("onClickNext",t,this.state.calendarActiveDate);var e=this.state.calendarActiveDate?this.state.calendarActiveDate:this.props.startDate,r=c()(e,["YYYY-MM-DD"]).add(1,"month");this.setState({calendarActiveDate:r.format("YYYY-MM-DD")})}},{key:"render",value:function(){var t=this.props.events,e=i.ZP.object(i.ZP.pluck(t,"eventDate"),t);console.log("this.props.startDate",this.props.startDate,"this.props.today",this.props.today,"events",this.props.events);for(var r=c()(),s=c()(this.state.calendarActiveDate||this.props.startDate,["YYYY-MM-DD"]),o=c()(s).startOf("month").startOf("day"),l=c()(o).startOf("month").startOf("week"),u=c()(s).endOf("month").endOf("day"),d=c()(u).endOf("month").endOf("week"),f=c()(l),h=(u.diff(o,"days"),[]);f.isBefore(d);)h.push(c()(f)),f.add(1,"day");var p=r.isSame(o,"year")?o.format("MMMM"):o.format("MMMM, YYYY");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"calendar-headline-box",children:[(0,n.jsx)("h3",{children:p}),(0,n.jsxs)("ul",{className:"calendar-back-next-controls-box",children:[(0,n.jsx)("li",{onClick:this.onClickBack.bind(this),children:"Back"}),(0,n.jsx)("li",{onClick:this.onClickNext.bind(this),children:"Next"})]})]}),(0,n.jsxs)("div",{className:"calendar-container-box",children:[(0,n.jsx)("ul",{className:"calendar-container-header",children:m.map((function(t){return(0,n.jsx)("li",{children:t.substring(0,3)},t)}))}),(0,n.jsx)("ul",{className:"calendar-container-body",children:h.map((function(t){var r=t.isSame(o,"month")?"current-month":"",s=t.format("YYYY-MM-DD");return i.ZP.has(e,s)?(0,n.jsx)("li",{className:"active-event-on-date",children:(0,n.jsx)(a.default,{href:e[s].path,children:(0,n.jsx)("span",{className:r,children:t.format("DD")})})},s):(0,n.jsx)("li",{children:(0,n.jsx)("span",{className:r,children:t.format("DD")})},s)}))})]})]})}}])&&l(e.prototype,r),s&&l(e,s),u}(o.PureComponent),y="MMMM D, YYYY";var x=!0;function Y(t){var e=function(t){var e=c()().startOf("day");return i.ZP.chain(t).filter((function(t){return c()(t.frontMatter.date,[y]).isSameOrAfter(e,"day")})).sortBy((function(t){return c()(t.frontMatter.date,[y]).unix()})).value()}(t.posts),r=e.map((function(t){var e;return{eventDate:c()(null===t||void 0===t||null===(e=t.frontMatter)||void 0===e?void 0:e.date,[y]).format("YYYY-MM-DD"),path:"/races/"+t.slug}}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mt-5",children:e.length?e.map((function(t,e){return(0,n.jsx)(a.default,{href:"/races/"+t.slug,passHref:!0,children:(0,n.jsx)("div",{className:"card mb-3 pointer",style:{maxWidth:"540px"},children:(0,n.jsxs)("div",{className:"row g-0",children:[(0,n.jsx)("div",{className:"col-md-8",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h5",{className:"card-title",children:t.frontMatter.title}),(0,n.jsx)("p",{className:"card-text",children:t.frontMatter.description}),(0,n.jsx)("p",{className:"card-text",children:(0,n.jsx)("small",{className:"text-muted",children:t.frontMatter.date})})]})}),(0,n.jsx)("div",{className:"col-md-4 m-auto",children:(0,n.jsx)("img",{src:t.frontMatter.thumbnailUrl,className:"img-fluid mt-1 rounded-start",alt:"thumbnail",width:500,height:500})})]})})},e)})):(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"No Upcoming Alleycats"}),(0,n.jsxs)("p",{children:["Let's change that together. Share event details with ",(0,n.jsx)("a",{href:"https://instagram.com/brokeshutter/",children:"brokeshutter@ig"})," to see your race published here."]})]})}),(0,n.jsx)(v,{startDate:c()().format("YYYY-MM-DD"),today:c()().format("YYYY-MM-DD"),events:r})]})}}},function(t){t.O(0,[885,5,774,888,179],(function(){return e=3685,t(t.s=e);var e}));var e=t.O();_N_E=e}]);